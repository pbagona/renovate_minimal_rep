{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "enabledManagers": ["regex"],
  "recreateClosed": true,
  "separateMinorPatch": true,
  "baseBranches": ["renovate-updates-collection"],
  "branchPrefix": "renovate-update-",
  "useBaseBranchConfig": "merge",
  "packageRules": [
    {
      "matchManagers": ["regex"],
      "description": "Crete merge reqests for minor changes in imagevector.yaml file",
      "matchUpdateTypes": ["minor"],
      "groupName": "Upstream images - minor updates",
      "automerge": false,
      "enabled": true
    }
  ],
  "regexManagers": [
    {
      "fileMatch": ["(^|/|\\.)imagevector\\.yaml$"],
      "matchStringsStrategy": "recursive",
      "matchStrings": [
        "- name:\\s*(?<depName>.*)\\s*repository:\\s*(?<datasource>.*)\\s*tag:\\s*(?<currentValue>.*)\\s*"
      ],
      "datasourceTemplate": "docker",
      "versioningTemplate": "docker"
    }
  ]
}
